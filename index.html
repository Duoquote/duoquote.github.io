<!doctype html>
<html lang="tr"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Güven Tips</title><meta description="Zaman buldukça blog paylaşımları yaptığım bir yer."><meta property="og:type" content="blog"><meta property="og:title" content="Güven Tips"><meta property="og:url" content="https://blog.guvendegirmenci.com/"><meta property="og:site_name" content="Güven Tips"><meta property="og:description" content="Zaman buldukça blog paylaşımları yaptığım bir yer."><meta property="og:locale" content="tr_TR"><meta property="og:image" content="https://blog.guvendegirmenci.com/img/og_image.png"><meta property="article:author" content="Güven Değirmenci"><meta property="article:tag" content="javascript"><meta property="article:tag" content=" python"><meta property="article:tag" content=" development"><meta property="article:tag" content=" developer"><meta property="article:tag" content=" duoquote"><meta property="article:tag" content=" guvendegirmenci"><meta property="article:tag" content=" guven"><meta property="article:tag" content=" degirmenci"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.guvendegirmenci.com"},"headline":"Güven Tips","image":["https://blog.guvendegirmenci.com/img/og_image.png"],"author":{"@type":"Person","name":"Güven Değirmenci"},"description":"Zaman buldukça blog paylaşımları yaptığım bir yer."}</script><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-73137845-6" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-73137845-6');</script><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/favicon.ico" alt="Güven Tips" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">Anasayfa</a><a class="navbar-item" href="/archives">Arşivler</a><a class="navbar-item" href="/categories">Kategoriler</a><a class="navbar-item" href="/tags">Etiketler</a><a class="navbar-item" href="https://guvendegirmenci.com">Hakkımda</a><a class="navbar-item" href="https://guvendegirmenci.com">Ana Site</a></div><div class="navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-09T13:46:42.000Z" title="2020-08-09T13:46:42.000Z">2020-08-09</time><span class="level-item"> Güven Değirmenci </span><span class="level-item">14 dakika okuma süresi (yaklaşık 2160 kelime)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/09/Genis-Genis-Web-Scraping/">Geniş Geniş Web Scraping</a></h1><div class="content"><p>Web Scraping, her ne kadar basit gibi gözükse de, korkunç birçok tarafı vardır. Birbirinden farklı birçok websitesi, birçok farklı teknoloji var. Bu paylaşımda elimden geldiğince Web Scraping konusunu detaylı bir biçimde anlatmaya çalışacağım. Nerelerde hangi aletler kullanılabilir, normal bir kullanıcı nasıl taklit edilir, sayfalardan gelen verileri anlamak, değişkenleri tespit etmek, gelen veriyi derlemek ve kullanışlı hale getirmek gibi birçok konuya değineceğim.</p>
<h1 id="Web-Scraping-nedir"><a href="#Web-Scraping-nedir" class="headerlink" title="Web Scraping nedir?"></a>Web Scraping nedir?</h1><p>Bunun zaten ne olduğunu biliyorsanız sizi alt kısımlara alabilirim :). Web Scraping, belirlenen web sayfasından veri almaktır. Tabii ki sadece veriyi almak değil, bu veriyi derlemek, işe yarar hale getirmek de bir parçasıdır.</p>
<h1 id="Hangi-programlama-dili-kullanilmali"><a href="#Hangi-programlama-dili-kullanilmali" class="headerlink" title="Hangi programlama dili kullanılmalı?"></a>Hangi programlama dili kullanılmalı?</h1><p>Bu konuda seçenekleriniz oldukça geniş. Benim tercihim python dilinden yana. Özellikle <code>jupyter notebook</code> kullanarak çok seri bir şekilde yazdığınız kodu test ederek ilerleyebilirsiniz. Python dışında aşağı yukarı her dil ile veri toplayabilirsiniz. <code>Selenium</code> diye bir sistem var. Bu sistemin de veri almada kullanılabileceğini düşünürsek alternatif olarak kullanabileceğiniz diller arasında;</p>
<ul>
<li>Node.JS</li>
<li>Java (Selenium)</li>
<li>JavaScript (Chrome Kullanarak)</li>
<li>PHP</li>
<li>C</li>
<li>C#</li>
<li>Bash (Evet bash kullanarak bile yapabilirsiniz)</li>
</ul>
<blockquote>
<p>Bunlar sadece birkaç örnek, mantıken internetten veri alabildiğiniz her dil veya sistem ile web scraping yapabilirsiniz.</p>
</blockquote>
<h1 id="Bir-website’den-veri-almayi-deneyelim"><a href="#Bir-website’den-veri-almayi-deneyelim" class="headerlink" title="Bir website’den veri almayı deneyelim;"></a>Bir website’den veri almayı deneyelim;</h1><p>Bu örnek için ben python kullanacağım, sisteminizde python ve pip kurulu olduğunu varsayaraktan konsol açıp <code>requests</code> modülünü kurmanız gerekmektedir.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install requests</span><br></pre></td></tr></table></figure>

<h2 id="Veri-alma"><a href="#Veri-alma" class="headerlink" title="Veri alma"></a>Veri alma</h2><p>İlk olarak requests modülünü projemize dahil edelim.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br></pre></td></tr></table></figure>

<p>Basit bir <code>GET</code> isteği göndermek için <code>requests</code> modülünden <code>get</code> fonksiyonunu kullanabiliriz. Örnekte ben kendi siteme bir <code>GET</code> isteği yolluyorum.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = requests.get(<span class="string">"https://guvendegirmenci.com"</span>)</span><br></pre></td></tr></table></figure>
<p>Şu ana kadar veriyi aldık iyi güzel de aldığımız veriyi nasıl görüntüleyeceğiz? Aldığımız veriyi <code>text</code>, yani yazı formatında görüntüleyebiliriz:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(data.text)</span><br></pre></td></tr></table></figure>
<p>Ya da byte olarak görüntüleyebiliriz:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(data.content)</span><br></pre></td></tr></table></figure>
<p>Ya da aldığınız veri <code>JSON</code> formatında bir veri ise python <code>dictionary</code> formatında alabilirsiniz. Örnekte kendi websitemde dil değiştirme özelliği için kullandığım JSON verisini kullanıyorum:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data = requests.get(<span class="string">"https://guvendegirmenci.com/data.json"</span>)</span><br><span class="line"></span><br><span class="line">print(data.json())</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Dictionary verisini düzenli görüntülemek için <code>pprint</code> modülünü kullanabilirsiniz, örnek:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pprint <span class="keyword">import</span> pprint</span><br><span class="line"></span><br><span class="line">pprint(data.json()) </span><br></pre></td></tr></table></figure>
</blockquote>
<p>Kodumuzun son hali aşağıdaki gibi bir şey olacaktır:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> pprint <span class="keyword">import</span> pprint</span><br><span class="line"></span><br><span class="line">data = requests.get(<span class="string">"https://guvendegirmenci.com"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Text verisi görüntüle</span></span><br><span class="line">print(data.text)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Byte verisi görüntüle</span></span><br><span class="line">print(data.content)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sitemdeki JSON verisini almak için başka bir GET isteği yolla.</span></span><br><span class="line">data = requests.get(<span class="string">"https://guvendegirmenci.com/data.json"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># JSON verisi görüntüle</span></span><br><span class="line">pprint(data.json())</span><br></pre></td></tr></table></figure>

<p>Programımızın çıktısı aşağıdaki gibi olacaktır, çıktı biraz uzun olduğu için … ile kısalttım:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;html lang="TR"&gt;&lt;head&gt;&lt;title&gt;Güven Değirmenci&lt;/title&gt;&lt;meta http...</span><br><span class="line"><span class="string">b'&lt;!DOCTYPE html&gt;&lt;html lang="TR"&gt;&lt;head&gt;&lt;title&gt;G\xc3\xbcven De\xc4\x9firmenci&lt;/...</span></span><br><span class="line"><span class="string">&#123;'</span>EN<span class="string">': &#123;'</span>data<span class="string">': &#123;'</span>labels<span class="string">': &#123;'</span>about<span class="string">': '</span>about<span class="string">',</span></span><br><span class="line"><span class="string">                            '</span>blog<span class="string">': '</span>blog<span class="string">',</span></span><br><span class="line"><span class="string">                            '</span>contact<span class="string">': '</span>contact<span class="string">',</span></span><br><span class="line"><span class="string">                            '</span>discord<span class="string">': '</span>discord<span class="string">',</span></span><br><span class="line"><span class="string">                            '</span>links<span class="string">': '</span>links<span class="string">',...</span></span><br></pre></td></tr></table></figure>

<h2 id="Veri-bulma"><a href="#Veri-bulma" class="headerlink" title="Veri bulma"></a>Veri bulma</h2><p>İyi güzel veriyi aldık da, bu veri karman çorman, burdan bir şekilde veri elde etmemiz lazım. Bunun için kullanabileceğimiz birkaç metod mevcut.</p>
<h3 id="Metod-1-BeautifulSoup"><a href="#Metod-1-BeautifulSoup" class="headerlink" title="Metod 1 - BeautifulSoup"></a>Metod 1 - BeautifulSoup</h3><p>En kolay ve belki de en verimli yöntem, <code>BeautifulSoup</code> modülünü kullanarak aradığınızı bulmayı kolaylaştırabilirsiniz. Kullanımı eğer programlamaya yeni başlayan biriyseniz zor gelebilir ancak kodlamaya devam edin! Yapmaya çalıştığınız şeye her zaman ulaşmaya çalışın, pes etmeyin! <code>BeautifulSoup</code> python ile birlikte gelmemekte, bu yüzden pip ile kurmamız gerekiyor;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install bs4</span><br></pre></td></tr></table></figure>

<blockquote>
<p>BeautifulSoup’u kurarken <code>pip install beautifulsoup</code> yazarak kurmayınız.</p>
</blockquote>
<p>Önceki yaptıklarımızdan biraz referans alarak, birkaç modülü hemen projemize dahil edelim:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> pprint <span class="keyword">import</span> pprint</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br></pre></td></tr></table></figure>

<p>Yine basit bir <code>GET</code> isteği gönderelim:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = requests.get(<span class="string">"https://guvendegirmenci.com"</span>)</span><br></pre></td></tr></table></figure>

<p>Şimdi onu <code>BeautifulSoup</code>‘a aktaralım:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sayfa = BeautifulSoup(data.text, <span class="string">"html"</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Dikkat edin, <code>data</code> değil de <code>data.text</code>‘i kullandım, data bir istek objesidir; data.text ise istekte gelmiş olan string verisini içerir.</p>
</blockquote>
<blockquote>
<p><code>data.text</code> yerine <code>data.content</code> de kullanılabilir. <code>data.text</code> string, <code>data.content</code> byte olarak veriyi içerir. Beautifulsoup bu iki tipi de kabul eder.</p>
</blockquote>
<p>Sayfada arama yapmak için birçok yöntemi kullanabilirsiniz. Kod olarak son halini size örnekleriyle birlikte vereyim;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">data = requests.get(<span class="string">"https://guvendegirmenci.com"</span>)</span><br><span class="line"></span><br><span class="line">sayfa = BeautifulSoup(data.text, <span class="string">"html"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># &lt;title&gt; tagına sahip olan ilk elementini bul.</span></span><br><span class="line">print(sayfa.find(<span class="string">"title"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># &lt;p&gt; tagına sahip olan ilk elementi bul.</span></span><br><span class="line">print(sayfa.find(<span class="string">"p"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># &lt;p&gt; tagına sahip olan tüm elementleri bul. (element listesi verir)</span></span><br><span class="line">print(sayfa.findAll(<span class="string">"p"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Herhangi bir class'a sahip olmayan &lt;a&gt; elementlerini bul.</span></span><br><span class="line">print(sayfa.findAll(<span class="string">"a"</span>, &#123;<span class="string">"class"</span>: <span class="literal">False</span>&#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Herhangi bir class'a sahip olan &lt;a&gt; elementlerini bul.</span></span><br><span class="line">print(sayfa.findAll(<span class="string">"a"</span>, &#123;<span class="string">"class"</span>: <span class="literal">True</span>&#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment"># &lt;li&gt; tagına sahip olup "nav-item" class'ına sahip olan elementleri bul.</span></span><br><span class="line">print(sayfa.findAll(<span class="string">"li"</span>, &#123;<span class="string">"class"</span>: <span class="string">"nav-item"</span>&#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment"># &lt;a&gt; tagına sahip olup "nav-link" class'ına sahip olan elementleri bul.</span></span><br><span class="line">print(sayfa.findAll(<span class="string">"a"</span>, &#123;<span class="string">"class"</span>: <span class="string">"nav-link"</span>&#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment"># &lt;a&gt; tagına sahip olup "href" değeri "https://stackoverflow.com/story/duoquote"</span></span><br><span class="line"><span class="comment"># olan elementleri bul.</span></span><br><span class="line">print(sayfa.find(<span class="string">"a"</span>, &#123;<span class="string">"href"</span>: <span class="string">"https://stackoverflow.com/story/duoquote"</span>&#125;))</span><br></pre></td></tr></table></figure>
<p>Örnekte yazdığım <code>find</code> ve <code>findAll</code> metodları gayet klasiktir. Bunların dışında SoupSieve denen library sayesinde BeautifulSoup bizlere javascriptteki <code>querySelector</code> komutunda kullandığımız syntax’ı kullanmamızı sağlıyor. Burada detaya pek giremedim, sonuçta kendisi bir web standardıdır. Daha detaylı bilgi için <a href="https://facelessuser.github.io/soupsieve/">buraya</a> göz atabilirsiniz.</p>
<h4 id="Bir-adim-ileri-RegEx-ornegi"><a href="#Bir-adim-ileri-RegEx-ornegi" class="headerlink" title="Bir adım ileri, RegEx örneği."></a>Bir adım ileri, RegEx örneği.</h4><p>Yazılım dünyasında en sevdiğim şey, RegEx. RegEx, uzun adıyla Regular Expression, yazdığınız kurallar ile yazı içerisinde o kurallara uyan kısımları aramanıza yarar. RegEx ile bir element arayacak olsaydık;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests, re</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">data = requests.get(<span class="string">"https://guvendegirmenci.com"</span>)</span><br><span class="line"></span><br><span class="line">sayfa = BeautifulSoup(data.text, <span class="string">"html"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># &lt;a&gt; tagına sahip olup "href" değeri r".*stackoverflow\.com.*" RegEx ile eşleşen</span></span><br><span class="line"><span class="comment"># elementi bul.</span></span><br><span class="line">print(sayfa.find(<span class="string">"a"</span>, &#123;<span class="string">"href"</span>: re.compile(<span class="string">r".*stackoverflow\.com.*"</span>)&#125;))</span><br></pre></td></tr></table></figure>
<p>Burada yazdığım RegEx kuralını parçalara ayıralım. Korkutucu gözükebilir ancak temelinde çok basit prensipleri var.</p>
<p><code>r&quot;.*stackoverflow\.com.*&quot;</code> ilk olarak tırnak ifadelerini es geçebiliriz, python’da fonksiyona verdiğimiz bir yazı olarak hayal edin bunu, asıl regex değerimiz;</p>
<p><code>.*stackoverflow\.com.*</code></p>
<p>Şimdi RegEx’te;<br><code>.</code> (nokta), <strong><em>herhangi bir karakter</em></strong> anlamına gelmekte.<br><code>*</code> (yıldız), <strong><em>hiç ya da sonsuz sayıda</em></strong> demek. Bu ikisi birleşince, <code>.*</code> <strong><em>herhangi bir karakterden hiç ya da sonsuz sayıda</em></strong> gibi bir ifade ortaya çıkıyor. Yani bunu bir yazı ile karşılaştıracak olsaydık, yazı bomboş olsaydı veya sonsuz karakterden oluşsaydı her daim eşleşecekti. Şimdi bunun yanına <code>stackoverflow.com</code> eklediğimizde, bu <code>stackoverflow.com</code> yazısının başlangıcında sonsuz sayıda karakter olabilir, olmaya da bilir demek. <code>.*</code> kısmını sonuna eklediğimizde ise, başında veya sonunda herhangi bir sayıda karakter olabilir olmaya da bilir anlamına geliyor. Yani bu duruma göre, <strong>asd__<strong><em>stackoverflow.com</em></strong>__zxc</strong> yazısı da eşlenirdi <strong>stackoverflow.com</strong> yazısı da.</p>
<p>Daha detaylı olarak incelemek veya kurcalamak isterseniz, bahsettiğim RegEx ifadesini <a href="https://regex101.com/r/xyqUVq/2">burada</a> inceleyebilirsiniz.</p>
<p>RegEx’in Web Scraping alanındaki değeri çok büyük, istediğiniz her şeyi RegEx ile bulabilmek mümkün, sınırı yok. Biraz idrak etmesi zor bir sistem, ancak bir kere öğrendiğinizde, normal şartlarda ne kadar zor bulunabilecek bir şey varsa, bunu RegEx ile ne kadar kolay bulabileceğinizi farkedebiliyorsunuz.</p>
<h3 id="Metod-2-LXML"><a href="#Metod-2-LXML" class="headerlink" title="Metod 2 - LXML"></a>Metod 2 - LXML</h3><p>Bu yine bir python örneği ancak başka bir modül kullanarak, bu modül pek güzel gelmeyebilir ancak performans söz konusu ise oldukça iyidir. LXML’i Windows’ta kurmak sıkıntı yaratabilir bu yüzden tercih etmeyebilirsiniz, benim önerim Windows’ta <a href="https://www.windowscentral.com/install-windows-subsystem-linux-windows-10">Subsystem for Linux</a> özelliğini açıp Microsoft Mağaza’dan Ubuntu veya Debian kurmanız, kodu orada çalıştırmanızdır.</p>
<p>Requests ve gereken lxml parçasını import edelim;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br></pre></td></tr></table></figure>

<p>Veriyi alalım;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = requests.get(<span class="string">"https://guvendegirmenci.com"</span>)</span><br></pre></td></tr></table></figure>

<p>Sayfayı lxml’e aktaralım;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sayfa = etree.HTML(data.content)</span><br></pre></td></tr></table></figure>

<p>LXML’i şahsen genel olarak <code>xpath</code> denen arama özelliği yüzünden kullanırım, xpath’e alıştıktan sonra BeautifulSoup ile herhangi bir şey aratmak işkence gibi geliyor, xpath BeautifulSoup’a göre biraz karmaşıktır, bir arama dilidir diyebiliriz. Xpath ile alakalı genel örneklere <a href="https://devhints.io/xpath">bu linkten</a> ulaşabilirsiniz.</p>
<p>Xpath ile sayfada aradıklarınızı kolayca bu şekilde bulabilirsiniz;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Sayfadaki tüm &lt;div&gt; taglerini bul.</span></span><br><span class="line">sayfa.xpath(<span class="string">"//div"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sayfada class değeri "row"'a eşit olan tüm &lt;div&gt; elementlerini bul.</span></span><br><span class="line"><span class="comment"># Dikkat edin "row" yazısı içeren vs. demedim, direk "row" yazan yerler,</span></span><br><span class="line"><span class="comment"># yani "row " veya "row element" gibi değerler ile eşleşmez.</span></span><br><span class="line">sayfa.xpath(<span class="string">"//div[@class='row']"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Elementlerin "href" veya "class" gibi attribute dediğimiz yerlerdeki</span></span><br><span class="line"><span class="comment"># verileri `.get` metodunu kullanarak istediğimiz değeri alabiliriz.</span></span><br><span class="line">print(sayfa.xpath(<span class="string">"//div[@class='row']"</span>).get(<span class="string">"class"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sayfada class değeri "row" içeren tüm div elementlerini bul.</span></span><br><span class="line">sayfa.xpath(<span class="string">"//div[contains(@class, 'row')]"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Class yerine farklı değerler de kullanabiliriz, örneğin;</span></span><br><span class="line">sayfa.xpath(<span class="string">"//a[contains(@href, '#')]"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Class değeri olarak "post-data" içeren div elementlerini bul,</span></span><br><span class="line"><span class="comment"># bir alt elementi &lt;h1&gt; olan &lt;h1&gt; elementlerini seç.</span></span><br><span class="line">h1Elementleri = sayfa.xpath(<span class="string">"//div[contains(@class, 'post-data')]/h1"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Üstteki örneğin aynısı ancak farklı bir yaklaşım.</span></span><br><span class="line">divElementleri = sayfa.xpath(<span class="string">"//div[contains(@class, 'post-data')]"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> div <span class="keyword">in</span> divElems:</span><br><span class="line">    <span class="comment"># "./" kullandık, çünkü aslında bu element üstünde xpath fonksiyonunu</span></span><br><span class="line">    <span class="comment"># çalıştırsak bile yazdığımız xpath yönergeleri tüm web sayfası için</span></span><br><span class="line">    <span class="comment"># geçerlidir, şu anda bulunduğu elementin alt elementini aradığımız için</span></span><br><span class="line">    <span class="comment"># "./" kullanarak o elementten devam etmesini sağlayabiliriz.</span></span><br><span class="line">    div.xpath(<span class="string">"./h1"</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># `.text` kullanarak elementtin içine yazılı olan veriyi alabiliriz.</span></span><br><span class="line">    <span class="comment"># Bunu yaparken yine [0] ile bulunan ilk elementi seçmeyi unutmayın.</span></span><br><span class="line">    print(div.xpath(<span class="string">"./h1"</span>)[<span class="number">0</span>].text)</span><br></pre></td></tr></table></figure>

<p>LXML kısmı biraz kısa olmuş olabilir ancak o konuya tam anlamıyla dalacak olsaydık büyük ihtimalle bu blog postundan daha uzun bir post paylaşmam gerekirdi. Bu tabii ki yapmayacağım demek değil :).</p>
</div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://www.gravatar.com/avatar/e9c7d05489dc67acd5f50723bdcdf9d8?s=128" alt="Güven Değirmenci"></figure><p class="title is-size-4 is-block line-height-inherit">Güven Değirmenci</p><p class="is-size-6 is-block">Python, JavaScript geliştirici.</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Türkiye</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Gönderi</p><a href="/archives"><p class="title">1</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Kategoriler</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Etiketler</p><a href="/tags"><p class="title">0</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/duoquote" target="_blank" rel="noopener">TAKİP ET</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/in/duoquote/"><i class="fab fa-linkedin"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/duoquote"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="StackOverflow" href="https://stackoverflow.com/users/story/7493063"><i class="fab fa-stack-overflow"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://fb.com/duoquote"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/duoquotee"><i class="fab fa-twitter"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Linkler</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://guvendegirmenci.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Ana Site</span></span><span class="level-right"><span class="level-item tag">guvendegirmenci.com</span></span></a></li></ul></div></div></div><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">Son</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-08-09T13:46:42.000Z">2020-08-09</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/09/Genis-Genis-Web-Scraping/">Geniş Geniş Web Scraping</a></p><p class="is-uppercase"></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Arşivler</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">Ağustos 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><!--!--></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/favicon.ico" alt="Güven Tips" height="28"></a><p class="size-small"><span>&copy; 2020 Güven Değirmenci</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Github Profilim" href="https://github.com/duoquote"><i class="fab fa-github"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="StackOverflow Profilim" href="https://stackoverflow.com/users/story/7493063"><i class="fab fa-stack-overflow"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Facebook Profilim" href="https://www.facebook.com/Duoquote/"><i class="fab fa-facebook"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("tr");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://blog.guvendegirmenci.com',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Zurück nach oben" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container" id="algolia-input"></div><div class="is-flex" id="algolia-poweredby" style="margin:0 .5em 0 1em;align-items:center;line-height:0"></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div><div class="searchbox-footer"></div></div></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.0.3/dist/algoliasearch-lite.umd.js" crossorigin="anonymous" defer></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.3.1/dist/instantsearch.production.min.js" crossorigin="anonymous" defer></script><script src="/js/algolia.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadAlgolia({"applicationId":"I24ZRHXA68","apiKey":"c4ea7195624c086125237b973a9f437e","indexName":"blog_yeni"}, {"hint":"Bir şeyler yaz...","no_result":"No results for","untitled":"(Untitled)","empty_preview":"(No preview)"});
        });</script></body></html>